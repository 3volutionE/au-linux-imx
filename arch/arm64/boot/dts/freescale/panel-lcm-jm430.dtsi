#include <dt-bindings/display/simple_panel_mipi_cmds.h>

/ {
	mipi_cmds_lcm_jm430: mipi-cmds-lcm-jm430 {
		mipi-cmds-init = /bits/ 8 <
			DELAY(5)	/* Delay after enable is high */
#ifdef USE_2_LANES
			GEN_L5P(0x10,0x02, 0x07,0x00,0x00,0x00)	/* TC_DSI_LANEENABLE - 0x7  */
			GEN_L5P(0x44,0x01, 0x00,0x00,0x00,0x00)	/* TC_PPI_D0S_ATMR - 0x0  */
			GEN_L5P(0x48,0x01, 0x00,0x00,0x00,0x00)	/* TC_PPI_D1S_ATMR - 0x0  */
			GEN_L5P(0x64,0x01, 0x02,0x00,0x00,0x00)	/* TC_PPI_D0S_CLRSIPOCOUNT - 0x2  */
			GEN_L5P(0x68,0x01, 0x02,0x00,0x00,0x00)	/* TC_PPI_D1S_CLRSIPOCOUNT - 0x2  */
			GEN_L5P(0x14,0x01, 0x02,0x00,0x00,0x00)	/* TC_LPTXTIMECNT - 0x2  */
			GEN_L5P(0x04,0x02, 0x01,0x00,0x00,0x00)	/* TC_DSI_STARTDSI - 0x1  */
			/* TC358762 errata needs mipi clock >=99.992 Mhz for /2 to work. */
			GEN_L5P(0x64,0x04, 0x00,0x02,0x00,0x00)	/* TC_SYSCTRL - 0x0200 (divide by 2) */
#else
			GEN_L5P(0x10,0x02, 0x03,0x00,0x00,0x00)	/* TC_DSI_LANEENABLE - 0x3  */
			GEN_L5P(0x44,0x01, 0x00,0x00,0x00,0x00)	/* TC_PPI_D0S_ATMR - 0x0  */
			GEN_L5P(0x48,0x01, 0x00,0x00,0x00,0x00)	/* TC_PPI_D1S_ATMR - 0x0  */
			GEN_L5P(0x64,0x01, 0x02,0x00,0x00,0x00)	/* TC_PPI_D0S_CLRSIPOCOUNT - 0x2  */
			GEN_L5P(0x68,0x01, 0x02,0x00,0x00,0x00)	/* TC_PPI_D1S_CLRSIPOCOUNT - 0x2  */
			GEN_L5P(0x14,0x01, 0x02,0x00,0x00,0x00)	/* TC_LPTXTIMECNT - 0x2  */
			GEN_L5P(0x04,0x02, 0x01,0x00,0x00,0x00)	/* TC_DSI_STARTDSI - 0x1  */
			GEN_L5P(0x64,0x04, 0x00,0x04,0x00,0x00)	/* TC_SYSCTRL - 0x0400 (divide by 3) */
#endif
			GEN_L5P(0x14,0x04, 0x77,0x00,0x00,0x00)	/* TC_PXLFMT - 0x77  */
#if 1
			/* VTGEN off */
			GEN_L5P(0x20,0x04, 0x50,0x01,0x10,0x00)	/* TC_LCDCTRL_PORT - 0x100150  */
#else
			/* VTGEN on */
			GEN_L5P(0x20,0x04, 0x52,0x01,0x10,0x00)	/* TC_LCDCTRL_PORT - 0x100152  */
			GEN_L5P(0x24,0x04, 0x02,0x00,0x28,0x00)	/* TC_HSR_HBPR - 0x280002  */
			GEN_L5P(0x28,0x04, 0xe0,0x01,0x04,0x00)	/* TC_HDISPR_HFPR - 0x0401e0  */
			GEN_L5P(0x2c,0x04, 0x01,0x00,0x08,0x00)	/* TC_VSR_VBPR - 0x080001  */
			GEN_L5P(0x30,0x04, 0x10,0x01,0x08,0x00)	/* TC_VDISPR_VFPR - 0x080110  */
#endif
			GEN_L5P(0x34,0x04, 0x01,0x00,0x00,0x00)	/* TC_VFUEN - 0x01  */
			GEN_L5P(0x04,0x01, 0x01,0x00,0x00,0x00)	/* TC_PPI_STARTPPI - 0x1  */
#if 0
			MRPS(4)
			GEN_READ4(0xa0,0x04, 0x00,0x62,0x00,0x00) /* ChipID */
#endif
		>;
#if 0
		mipi-cmds-enable = /bits/ 8 <
			DCS_S0P(0x11)		/* Exit sleep */
			DELAY(120)		/* 5 is what spec says */
		>;
		mipi-cmds-disable = /bits/ 8 <
			DCS_S0P(0x10)		/* Enter sleep */
		>;
#endif
	};
};
